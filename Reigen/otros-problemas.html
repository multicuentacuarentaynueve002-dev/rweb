<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" sizes="64x64" href="otros.ico">
    <meta charset="UTF-8">
    <title>Otros Problemas - Reigen Soluciones Express</title>
<!-- IMAGEN 1: INFERIOR IZQUIERDA (al lado del Reigen grande que ya tienes) -->
<div style="position:fixed; bottom:40px; left:40px; z-index:999; pointer-events:none; opacity:0.92;">
    <img src="masaje.jpg" width="260" 
         alt="Masaje" 
         style="filter:drop-shadow(0 0 35px magenta); 
                animation:flotarSuave 9s ease-in-out infinite;">
</div>

<!-- IMAGEN 2: INFERIOR DERECHA -->
<div style="position:fixed; bottom:50px; right:40px; z-index:999; pointer-events:none; opacity:0.88;">
    <img src="aroma.jpg" width="240" 
         alt="Aromatizador" 
         style="filter:drop-shadow(0 0 35px cyan); 
                animation:flotarSuave 7s ease-in-out infinite reverse;">
</div>

<!-- ANIMACIÓN SUAVE DE FLOTAR -->
<style>
@keyframes flotarSuave {
    0%,100% { transform:translateY(0) rotate(0deg); }
    50%     { transform:translateY(-22px) rotate(5deg); }
}
</style>
    <!-- ICONO DEL CARRITO CON IMAGEN -->
<div style="position:fixed; top:15px; right:15px; z-index:99999; cursor:pointer;" onclick="window.location.href='checkout.html'">
    <img src="carrito.png" width="90" alt="Carrito" 
         style="filter:drop-shadow(0 0 20px lime); 
                animation:brillar 3s infinite, flotar 4s ease-in-out infinite;">
    
    <!-- NÚMERO DE ITEMS (círculo rojo estilo Reigen) -->
    <div style="position:absolute; top:-15px; right:-15px; 
                background:#f00; color:#fff; font-size:28px; font-weight:bold;
                width:50px; height:50px; border-radius:50%; 
                border:6px solid #fff; box-shadow:0 0 30px red;
                display:flex; align-items:center; justify-content:center;
                font-family:'Comic Sans MS',cursive; text-shadow:3px 3px #000;"
         id="contador-carrito">0</div>
</div>

<!-- ANIMACIONES ÉPICAS -->
<style>
@keyframes brillar {
    0%,100% { filter:drop-shadow(0 0 20px lime) brightness(1); }
    50%     { filter:drop-shadow(0 0 40px yellow) brightness(1.4); }
}
@keyframes flotar {
    0%,100% { transform:translateY(0) rotate(0deg); }
    50%     { transform:translateY(-12px) rotate(5deg); }
}
</style>

<!-- CONTADOR EN TIEMPO REAL -->
<script>
setInterval(() => {
    const carrito = JSON.parse(localStorage.getItem('carritoReigen') || '[]');
    const contador = document.getElementById('contador-carrito');
    if (contador) {
        contador.textContent = carrito.length;
        // Efecto de vibración cuando se añade uno nuevo
        if (carrito.length > 0) {
            contador.style.animation = 'none';
            setTimeout(() => contador.style.animation = '', 10);
            contador.style.transform = 'scale(1.3)';
            setTimeout(() => contador.style.transform = 'scale(1)', 200);
        }
    }
}, 300);
</script>
    <script>
// AÑADIR AL CARRITO (usa data-servicio y data-precio en cualquier botón)
function añadirAlCarrito(btn) {
    const servicio = btn.getAttribute('data-servicio');
    const precio = btn.getAttribute('data-precio') || btn.closest('tr').querySelector('td:last-child').textContent.trim();

    const carrito = JSON.parse(localStorage.getItem('carritoReigen') || '[]');
    carrito.push({ servicio, precio });
    localStorage.setItem('carritoReigen', JSON.stringify(carrito));

    alert(`¡AÑADIDO AL CARRITO!\n${servicio}\n${precio} ¥\n\nEl Maestro Reigen está satisfecho.`);
}

// Abrir carrito
function verCarrito() {
    window.open('carrito.html', '_blank');
}
</script>
<!-- Botón normal que añade al carrito -->
<button onclick="registrarCompra(15000, 'Exorcismo Express'); alert('¡Compra realizada! Gracias por confiar en el Maestro.');">
    COMPRAR - ¥15,000
</button>

<!-- Botón en tabla (detecta precio automáticamente) -->
<tr>
    <td>Pack Todo Incluido</td>
    <td>99.999 ¥</td>
    <td><button onclick="añadirAlCarrito(this)" data-servicio="Pack Todo Incluido">AÑADIR</button></td>
</tr>
<div style="position:fixed;top:20px;right:20px;z-index:9999;">
    <button onclick="verCarrito()" style="background:#00ff00;color:#000;font-size:24px;padding:15px 30px;border:6px solid lime;">
        CARRITO (<span id="contador-carrito">0</span>)
    </button>
</div>

<script>
    // Actualizar contador en tiempo real
    setInterval(() => {
        const c = JSON.parse(localStorage.getItem('carritoReigen') || '[]');
        document.getElementById('contador-carrito').textContent = c.length;
    }, 500);
</script>
    <style>
        
        * { margin:0; padding:0; box-sizing:border-box; }
        html, body { height:100%; overflow-x:hidden; }

        /* ==== FONDO ANIMADO IGUAL QUE LA PÁGINA PRINCIPAL ==== */
        .bg {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        .bg span {
            position: absolute;
            color: #999999;
            font-size: 36px;
            font-weight: bold;
            white-space: nowrap;
            opacity: 0.55;
            user-select: none;
            animation: scrollDown linear infinite;
        }
        @keyframes scrollDown {
            0%   { transform: translateY(-150vh) rotate(var(--r)); }
            100% { transform: translateY(150vh) rotate(var(--r)); }
        }

        /* Todo tu estilo original (solo lo moví debajo del fondo) */
        body {
            font-family: "Comic Sans MS", cursive;
            color: #f0f;
            min-height: 100vh;
            position: relative;
            z-index: 10;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            background: #000080;
            border: 12px ridge #ff00ff;
            padding: 30px;
            box-shadow: 0 0 60px magenta;
            position: relative;
            z-index: 10;
        }
        h1 {font-size:65px;color:#ffff00;text-align:center;text-shadow:6px 6px #ff00ff;animation:parpadear 1.3s infinite;}
        @keyframes parpadear {0%,100%{opacity:1}50%{opacity:0.4}}
        marquee {font-size:38px;color:#00ffff;text-shadow:5px 5px #ff00ff;}

        .precios {margin:40px 0;background:#000;border:8px double #ff00ff;padding:20px;}
        table {width:100%;border-collapse:collapse;color:#ff00ff;font-size:24px;}
        th {background:#4B0082;color:#ff00ff;padding:15px;border:4px solid #ff00ff;text-shadow:0 0 10px magenta;}
        td {padding:15px;border:3px solid #ff00ff;text-align:center;}
        tr:nth-child(odd) {background:#1c0033;}
        .destacado {color:#00ffff;font-size:34px;animation:glow 1.8s infinite;}
        @keyframes glow {0%,100%{text-shadow:0 0 15px cyan}50%{text-shadow:0 0 40px yellow}}

        .form {background:#00003f;border:8px double #ff00ff;padding:35px;margin-top:40px;}
        input, textarea, select {
            width:100%;padding:14px;margin:15px 0;
            background:#000;color:#ff00ff;border:5px inset #ff00ff;font-size:20px;
        }
        button {
            background:#ff00ff;color:#000;font-size:34px;
            padding:20px 60px;border:6px outset #ff00ff;cursor:pointer;
        }
        button:active {border-style:inset;background:#cc00cc;}
    </style>
</head>
<script>
function irACheckout(btn) {
    const servicio = btn.getAttribute('data-servicio');
    const precio = btn.getAttribute('data-precio');
    localStorage.setItem('servicioReigen', servicio);
    localStorage.setItem('precioReigen', precio);
    window.location.href = 'checkout.html';
}
</script>
<body>

    <!-- FONDO ANIMADO (igual que la página principal) -->
    <div class="bg" id="bg"></div>

    <!-- GIF REIGEN EN ESQUINA INFERIOR IZQUIERDA -->
    <div style="position:fixed; bottom:20px; left:20px; z-index:9999; pointer-events:none;">
        <img src="https://media.tenor.com/x8v1oNUoA6IAAAAC/reigen-salt.gif" width="140" alt="Reigen technique">
    </div>

    <div class="container">
        <h1>SOLUCIONES EXPRESS</h1>
        <marquee>AMOR · DINERO · ÉXITO · PELO · VENGANZA · TODO TIENE SOLUCIÓN</marquee>

        <div class="precios">
            <table>
                <tr><th colspan="2">PAQUETES MILAGROSOS <span id="año-milagro"></span></th></tr>
                <tr><td>Solución Básica (consejo + masaje de sal)</td><td>4.999 ¥</td></tr>
                <tr><td>Poción de Amor + Consejo Avanzado</td><td>19.999 ¥</td></tr>
                <tr><td>Ritual Anti-Deudas + Talismán de la Suerte</td><td>49.999 ¥</td></tr>
                <tr><td class="destacado">Pack Todo Incluido (amor + dinero + pelo + venganza)</td><td class="destacado">99.999 ¥</td></tr>
            </table>
        </div>

        <div class="form">
            <input type="text" id="nombre" placeholder="Tu nombre (para el hechizo)" required>
            <textarea id="problema" rows="5" placeholder="Explica tu drama (amor, dinero, exámenes, calvicie, jefe...)" required></textarea>
            
            <select id="paquete">
                <option>Solución Básica - 4.999 ¥</option>
                <option>Poción de Amor + Consejo - 19.999 ¥</option>
                <option>Ritual Anti-Deudas - 49.999 ¥</option>
                <option>Pack Todo Incluido - 99.999 ¥</option>
            </select>
                <center>
    <button onclick="añadirAlCarritoDesdeSelect(this)" 
            style="background:#ff00ff;color:#000;font-size:36px;padding:22px 70px;border:8px outset #ff00ff;cursor:pointer;box-shadow:0 0 30px magenta;">
        COMPRAR MILAGRO
    </button>
</center>
        </div>

        <marquee direction="right">PAGO SOLO EN EFECTIVO · RESULTADOS INMEDIATOS · SIN GARANTÍAS</marquee>
    </div>

    <script>
        // Fondo animado (igual que la página principal)
        const textos = ["霊とか相談所", "霊幻新隆"];
        const bg = document.getElementById('bg');
        for (let i = 0; i < 90; i++) {
            const span = document.createElement('span');
            span.textContent = textos[i % 2];
            span.style.left = Math.random() * 100 + '%';
            span.style.setProperty('--r', (Math.random() * 60 - 30) + 'deg');
            const dur = 30 + Math.random() * 40;
            span.style.animation = `scrollDown ${dur}s linear infinite`;
            span.style.animationDelay = -Math.random() * dur + 's';
            bg.appendChild(span);
        }

        // Año de los paquetes (también siempre el año actual)
        document.getElementById('año-milagro').textContent = new Date().getFullYear();
    </script>
</body>
</html>