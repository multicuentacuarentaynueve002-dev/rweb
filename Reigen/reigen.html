<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" sizes="64x64" href="reigen.ico">
    <meta charset="UTF-8">
    <title>Consulta de Espíritus y Afines - Sitio Oficial</title>

    <!-- FUENTE MOB200 REAL -->
    <style>
        @font-face {
            font-family: 'Mob200';
            src: url('Mob200.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
        .mob-porcentaje {
            font-family: 'Mob200', sans-serif !important;
            font-size: 80px !important;
            letter-spacing: 6px !important;
            text-shadow: 0 0 40px #ffffff, 0 0 80px #ffffff;
        }
    </style>

    <!-- ICONO CARRITO -->
    <div style="position:fixed;top:15px;right:15px;z-index:99999;cursor:pointer;" onclick="window.location.href='checkout.html'">
        <img src="carrito.png" width="90" alt="Carrito" style="filter:drop-shadow(0 0 20px lime);animation:brillar 3s infinite,floating 4s ease-in-out infinite;">
        <div style="position:absolute;top:-15px;right:-15px;background:#f00;color:#fff;font-size:28px;font-weight:bold;width:50px;height:50px;border-radius:50%;border:6px solid #fff;box-shadow:0 0 30px red;display:flex;align-items:center;justify-content:center;font-family:'Comic Sans MS';text-shadow:3px 3px #000;" id="contador-carrito">0</div>
    </div>

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        html,body{height:100%;background:#000;overflow-x:hidden}
        .bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;overflow:hidden}
        .bg span{position:absolute;color:#999;font-size:36px;font-weight:bold;white-space:nowrap;opacity:.55;user-select:none;animation:scrollDown linear infinite}
        @keyframes scrollDown{0%{transform:translateY(-150vh) rotate(var(--r))}100%{transform:translateY(150vh) rotate(var(--r))}}

        .content{position:relative;z-index:10;min-height:100vh;padding:20px 20px 100px}
        .container{max-width:1000px;margin:0 auto;text-align:center}

        h1{font-size:52px;background:linear-gradient(90deg,red,orange,yellow,green,blue,indigo,violet);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 12px white;margin:30px 0}
        .rainbow{font-weight:bold;font-size:120%;background:linear-gradient(90deg,#ff0000,#ff9900,#ffff00,#00ff00,#0099ff,#6633ff,#ff00ff,#ff0000);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;background-size:400% 400%;animation:rainbow 8s linear infinite;text-shadow:0 0 15px rgba(255,255,255,.5)}
        @keyframes rainbow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

        .main565-box{display:flex;justify-content:center;align-items:center;gap:40px;margin:50px 0;flex-wrap:wrap}
        .text-box{background:rgba(255,182,193,.95);padding:30px;border:5px solid #ff69b4;border-radius:15px;font-size:24px;box-shadow:0 0 20px hotpink;flex:1;max-width:500px;animation:aparecer 1.5s ease-out forwards;opacity:0;transform:translateX(-100px)}
        .reigen{border:6px solid white;box-shadow:0 0 30px yellow;border-radius:10px;animation:aparecerImg 1.8s ease-out forwards;opacity:0;transform:translateX(100px)}
        @keyframes aparecer{to{opacity:1;transform:translateX(0)}}
        @keyframes aparecerImg{to{opacity:1;transform:translateX(0)}}

        .buttons{margin:60px 0}
        .btn{display:inline-block;padding:22px 40px;margin:15px;font-size:24px;font-weight:bold;text-decoration:none;border:5px solid;border-radius:15px;transition:all .3s}
        .btn:hover{transform:scale(1.1);box-shadow:0 0 30px lime}
        .btn-green{background:#00ff00;color:black;border-color:lime}
        .btn-blue{background:#0000ff;color:white;border-color:cyan}

        .warning{color:yellow;font-size:20px;background:rgba(0,0,0,.7);padding:20px;border:3px dashed yellow;display:inline-block;margin:40px}
        marquee{font-size:34px;color:#ffff00;text-shadow:4px 4px red;font-weight:bold}
        .counter{position:fixed;bottom:15px;right:15px;background:#000;border:5px solid #f00;padding:12px 25px;font-family:"Courier New",monospace;font-size:36px;font-weight:bold;color:#0f0;text-shadow:0 0 15px lime;box-shadow:0 0 25px #f00;letter-spacing:5px;z-index:999}

        .reseñas{margin:100px auto;max-width:900px;background:#000;border:12px ridge #ff00ff;padding:40px;box-shadow:0 0 80px magenta}
        .reseñas h2{font-size:60px;color:#ff00ff;text-shadow:0 0 20px magenta,4px 4px #00ff00;animation:parpadear 1.8s infinite}
        @keyframes parpadear{0%,100%{opacity:1}50%{opacity:.4}}

        .form-reseña{background:#00003f;border:8px double #ff00ff;padding:30px;margin:30px 0}
        input,textarea{width:100%;padding:14px;margin:12px 0;background:#000;color:#0f0;border:4px inset #ff00ff;font-size:20px}
        .estrellas{font-size:50px;cursor:pointer;letter-spacing:8px}
        .estrellas span:hover,.estrellas span.activa{color:yellow!important;text-shadow:0 0 30px gold}

        .lista-reseñas .item{background:#001140;border:4px solid #00ffff;padding:20px;margin:20px 0;border-radius:15px;box-shadow:0 0 40px cyan;position:relative}
        .estrellas-mostradas{font-size:40px;color:yellow;text-shadow:0 0 20px gold}

        button.enviar{background:#ff00ff;color:#000;padding:18px 60px;border:8px outset #ff00ff;font-size:36px;cursor:pointer;box-shadow:0 0 60px magenta}
        button.enviar:hover{transform:scale(1.1)}
        button.enviar:active{border-style:inset;background:#cc00cc}

        /* ANIMACIONES MOB 100% */
        @keyframes auraExplode{0%{width:100px;height:100px;opacity:1}100%{width:3000px;height:3000px;opacity:0}}
        @keyframes textoExplode{0%{font-size:0;opacity:0}70%{font-size:0;opacity:0}100%{font-size:340px;opacity:1}}
    </style>
</head>
<body>

    <div style="position:fixed;bottom:20px;left:20px;z-index:9999;pointer-events:none">
        <img src="https://media.tenor.com/x8v1oNUoA6IAAAAC/reigen-salt.gif" width="380">
    </div>

    <div class="bg" id="bg"></div>

    <div class="content">
        <div class="container">
            <h1>Consulta de Espíritus y Asociados - Sitio Oficial</h1>
            <marquee>EL MAYOR PSÍQUICO DEL SIGLO XXI: REIGEN ARATAKA</marquee>

            <div class="main565-box">
                <div class="text-box">
                    ¡Soy la nueva estrella de los psíquicos,<br>
                    <span class="rainbow">REIGEN ARATAKA</span> Ha llegado!<br><br>
                    ¡¡No sufras solo, consúltame ya!!<br><br>
                    Espíritus, maldiciones, exorcismos,<br>
                    limpieza espiritual… ¡¡lo que sea!!<br><br>
                    ¡¡¡Precios claros y varios paquetes disponibles!!!
                </div>
                <img src="profile.png" alt="Reigen Arataka" width="320" class="reigen">
            </div>

            <div class="buttons">
                <a href="consulta-espiritus.html" class="btn btn-green" target="_blank">¿Problemas con espíritus?<br>¡Consulta aquí mismo!</a>
                <a href="otros-problemas.html" class="btn btn-blue" target="_blank">Otros problemas<br>(deudas, amor, exámenes, alopecia...)</a>
            </div>

            <div class="warning">
                ※ Tengo un aprendiz quién puede llegar tarde a los exorcismos<br>
                ※ Los resultados pueden variar según la fe del cliente<br>
                ※ Cobro solo por éxito (¡tasa de éxito del 100% garantizada!)
            </div>

            <marquee direction="right">Reigen Arataka - Gran renovación del sitio en <span id="proximo-año"></span></marquee>

            <div class="reseñas">
                <h2>RESEÑAS VERIFICADAS</h2>
                <marquee>¡TODOS QUEDAN SATISFECHOS!</marquee>

                <div class="form-reseña">
                    <input type="text" id="nombre-reseña" placeholder="Tu nombre (o alias espiritual)">
                    <textarea id="texto-reseña" rows="4" placeholder="Cuéntale al mundo cómo te salvé..."></textarea>
                    <div style="text-align:center;margin:20px 0">
                        <div class="estrellas" id="estrellas-input">
                            <span onclick="setEstrellas(1)">★</span>
                            <span onclick="setEstrellas(2)">★</span>
                            <span onclick="setEstrellas(3)">★</span>
                            <span onclick="setEstrellas(4)">★</span>
                            <span onclick="setEstrellas(5)">★</span>
                        </div>
                        <p style="font-size:26px;color:#ffff00">Puntuación: <span id="puntos">3</span> estrellas</p>
                    </div>
                    <center><button class="enviar" onclick="enviarReseña()">ENVIAR RESEÑA</button></center>
                </div>

                <div class="lista-reseñas" id="lista-reseñas"></div>
            </div>
        </div>
        <div class="counter" id="visitas">00000001</div>
    </div>

    <script>
        // Fondo japonés
        const textos = ["霊とか相談所", "霊幻新隆"];
        const bg = document.getElementById('bg');
        for(let i=0;i<100;i++){
            const s=document.createElement('span'); s.textContent=textos[i%2];
            s.style.left=Math.random()*100+'%';
            s.style.setProperty('--r',(Math.random()*60-30)+'deg');
            const d=28+Math.random()*42;
            s.style.animation=`scrollDown ${d}s linear infinite`;
            s.style.animationDelay=-Math.random()*d+'s';
            bg.appendChild(s);
        }

        // Carrito
        setInterval(() => {
            const c = JSON.parse(localStorage.getItem('carritoReigen') || '[]');
            document.getElementById('contador-carrito').textContent = c.length;
        }, 500);

        // CÓDIGOS SECRETOS
        let secuencia = [];
        window.addEventListener('keyup', e => {
            secuencia.push(e.key.toUpperCase());
            if (secuencia.length > 6) secuencia.shift();
            const actual = secuencia.join('');
            if (actual.includes('REIGEN') && localStorage.getItem('modoReigenActivado') !== 'true') {
                localStorage.setItem('modoReigenActivado', 'true');
                alert("MODO REIGEN ACTIVADO\n\nEl Maestro ha tomado el control.");
                location.reload();
            }
            else if (actual.includes('MOB') && localStorage.getItem('modoReigenActivado') === 'true') {
                activarMob100();
            }
        });

        // MOB 100% ÉPICO CON FUENTE MOB200
        function activarMob100() {
            localStorage.removeItem('modoReigenActivado');

            const overlay = document.createElement('div');
            overlay.style.cssText = `position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;z-index:999999;display:flex;flex-direction:column;justify-content:center;align-items:center;pointer-events:none;overflow:hidden`;

            const mobImg = document.createElement('img');
            mobImg.src = "porcentaje.jpg";
            mobImg.style.cssText = "width:420px;filter:drop-shadow(0 0 60px #00ffff);opacity:0;transform:scale(0.3);transition:all 1.5s ease-out";

            const barra = document.createElement('div');
            barra.innerHTML = `
                <div style="
        color:#ffffff;
        font-size:70px;
        font-weight:bold;
        margin-bottom:30px;
        letter-spacing:10px;
        text-shadow:0 0 30px white;
        font-family:'Mob200', sans-serif;
    ">
        PODER ESPIRITUAL
    </div>

    <div style="width:800px;height:90px;background:#111;border:8px solid #ffffff;position:relative;overflow:hidden;box-shadow:0 0 60px #ffffff;border-radius:20px">
        <div id="mob-fill" style="width:0%;height:100%;background:linear-gradient(90deg,#000000,#000000,#000000);transition:width .1s linear"></div>

        <div id="mob-porcentaje" class="mob-porcentaje" style="
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%,-50%);
            color:#fff;
            font-family:'Mob200', sans-serif;
        ">
            0%
        </div>
    </div>

            `;

            overlay.appendChild(mobImg);
            overlay.appendChild(barra);
            document.body.appendChild(overlay);

            let porcentaje = 0;
            const fill = document.getElementById('mob-fill');
            const texto = document.getElementById('mob-porcentaje');

            const subir = () => {
                if (porcentaje < 20) {
                    porcentaje += 0.5 + Math.random()*0.8;
                    setTimeout(subir, 500);
                } else if (porcentaje < 100) {
                    porcentaje += 2 + Math.random()*4;
                    if (porcentaje > 100) porcentaje = 100;
                    setTimeout(subir, 40);
                } else {
                    explosionFinal();
                    return;
                }
                texto.textContent = Math.floor(porcentaje) + "%";
                fill.style.width = porcentaje + "%";
            };

            const explosionFinal = () => {
    mobImg.style.opacity = "1";
    mobImg.style.transform = "scale(1.4)";
    mobImg.style.filter = "drop-shadow(0 0 140px #ffffff) brightness(2)";

    const aura = document.createElement('div');
    aura.style.cssText = "position:absolute;top:50%;left:50%;width:100px;height:100px;background:radial-gradient(circle,#ffffff 20%,transparent);border-radius:50%;transform:translate(-50%,-50%);animation:auraExplode 3s forwards;box-shadow:0 0 400px #ffffff";
    overlay.appendChild(aura);

    const interrogacion = document.createElement('h1');
    interrogacion.textContent = "???";
    interrogacion.style.cssText = "position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:#ffffff;text-shadow:0 0 140px white;font-size:0;animation:textoExplode 4s forwards;z-index:9999999;font-family:'Mob200',sans-serif";
    overlay.appendChild(interrogacion);

    setTimeout(() => {
        overlay.remove();
        alert("MOB 100%\n\nEl modo Reigen ha sido anulado por completo.");
        location.reload();
    }, 4500);


            };

            subir();
        }

        // BOTONES BORRAR
        function activarBotonesBorrar() {
            document.querySelectorAll('.item').forEach(item => {
                if (item.querySelector('.reigen-delete-btn')) return;
                const id = item.dataset.id;
                const btn = document.createElement('button');
                btn.textContent = "ELIMINAR";
                btn.className = "reigen-delete-btn";
                btn.style.cssText = "position:absolute;top:8px;right:8px;z-index:99999;background:#ff0000;color:#fff;border:5px outset #c00;padding:10px 20px;font-weight:bold;font-size:18px;cursor:pointer;box-shadow:0 0 40px red;font-family:'Comic Sans MS';border-radius:8px";
                btn.onclick = () => {
                    if (confirm("¿Expulsar esta herejía del registro eterno?")) {
                        let reseñas = JSON.parse(localStorage.getItem('reseñasReigen') || '[]');
                        reseñas = reseñas.filter(r => r.id !== id);
                        localStorage.setItem('reseñasReigen', JSON.stringify(reseñas));
                        mostrarReseñas();
                    }
                };
                item.style.position = 'relative';
                item.appendChild(btn);
            });
        }

        // RESEÑAS
        let estrellasSeleccionadas = 3;
        function setEstrellas(n) {
            estrellasSeleccionadas = n;
            document.querySelectorAll('#estrellas-input span').forEach((s,i) => {
                s.classList.toggle('activa', i < n);
                s.style.color = i < n ? 'yellow' : '#555';
            });
            document.getElementById('puntos').textContent = n;
        }

        function enviarReseña() {
            const nombre = document.getElementById('nombre-reseña').value.trim() || "Cliente Anónimo";
            const texto = document.getElementById('texto-reseña').value.trim();
            if (!texto) return alert("¡Escribe tu testimonio!");

            const estrellasFinales = estrellasSeleccionadas < 3 ? 3 : estrellasSeleccionadas;

            const reseñas = JSON.parse(localStorage.getItem('reseñasReigen') || '[]');
            reseñas.unshift({
                id: Date.now().toString(),
                nombre, texto, estrellas: estrellasFinales,
                fecha: new Date().toLocaleDateString('es'),
                util: 0, graciosa: 0
            });
            localStorage.setItem('reseñasReigen', JSON.stringify(reseñas));
            document.getElementById('nombre-reseña').value = '';
            document.getElementById('texto-reseña').value = '';
            setEstrellas(3);
            mostrarReseñas();
        }

        function votar(id, tipo) {
            const key = `votado_${id}_${tipo}`;
            if (localStorage.getItem(key)) return;
            const reseñas = JSON.parse(localStorage.getItem('reseñasReigen') || '[]');
            const i = reseñas.findIndex(r => r.id === id);
            if (i === -1) return;
            reseñas[i][tipo]++;
            localStorage.setItem(key, 'true');
            localStorage.setItem('reseñasReigen', JSON.stringify(reseñas));
            mostrarReseñas();
        }

        function mostrarReseñas() {
            const lista = document.getElementById('lista-reseñas');
            let reseñas = JSON.parse(localStorage.getItem('reseñasReigen') || '[]');

            if (reseñas.length === 0) {
                reseñas = [
                    {id:"1",nombre:"Mob Kageyama",texto:"El maestro Reigen es el mejor psíquico.",estrellas:5,fecha:"2025-11-20",util:58,graciosa:9},
                    {id:"2",nombre:"Tome Kurata",texto:"¡¡GRACIAS MAESTRO REIGEN!!",estrellas:5,fecha:"2025-11-19",util:49,graciosa:22},
                    {id:"3",nombre:"Dimple",texto:"Ese humano tiene algo especial... (no me gusta)",estrellas:4,fecha:"2025-11-18",util:38,graciosa:112},
                    {id:"4",nombre:"Serizawa",texto:"El maestro me salvó la vida.",estrellas:5,fecha:"2025-11-17",util:67,graciosa:5},
                    {id:"5",nombre:"Anónimo",texto:"Mi casa ya no tiene espíritus raros.",estrellas:5,fecha:"2025-11-15",util:52,graciosa:14}
                ];
                localStorage.setItem('reseñasReigen', JSON.stringify(reseñas));
            }

            lista.innerHTML = reseñas.map(r => `
                <div class="item" data-id="${r.id}">
                    <strong style="color:#ffff00;font-size:30px">${r.nombre}</strong>
                    <div class="estrellas-mostradas">${'★'.repeat(r.estrellas)}</div>
                    <p style="font-size:24px;color:#0f0;margin:15px 0">${r.texto}</p>
                    <small style="color:#ff00ff">${r.fecha}</small>
                    <div style="margin-top:15px;display:flex;gap:15px;justify-content:center">
                        <button style="background:#00ff00;color:#000;padding:10px 25px;border:4px outset #00ff00;cursor:pointer" onclick="votar('${r.id}','util')">ÚTIL (${r.util})</button>
                        <button style="background:#ff00ff;color:#fff;padding:10px 25px;border:4px outset #ff00ff;cursor:pointer" onclick="votar('${r.id}','graciosa')">GRACIOSA (${r.graciosa})</button>
                    </div>
                </div>
            `).join('');

            if (localStorage.getItem('modoReigenActivado') === 'true') setTimeout(activarBotonesBorrar, 100);
        }
            if (localStorage.getItem('modoReigenActivado') === 'true') {
                const btn = document.createElement('a');
                btn.href = 'ganancias-reigen.html';
                btn.textContent = 'CAJA FUERTE';
                btn.style.cssText = 'position:fixed;top:80px;right:20px;background:#ff00ff;color:#000;padding:15px 30px;font-size:24px;font-weight:bold;border:6px outset #ff00ff;box-shadow:0 0 40px magenta;z-index:99999;cursor:pointer';
                document.body.appendChild(btn);
            }
        // INICIO
        document.getElementById('proximo-año').textContent = new Date().getFullYear() + 1;
        setEstrellas(3);
        mostrarReseñas();
    </script>
</body>
</html>